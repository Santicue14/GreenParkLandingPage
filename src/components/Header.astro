--- 
import Image from "astro/components/Image.astro"; 
import ImagenLogo from "../../public/parquizacionesnotextlogo.webp"; 
const title = "Parquizaciones Green Park"; 
---

<header class="flex px-4 justify-between items-center">
  <a href="/">
    <div class="logo flex items-center w-full">
      <Image
        src={ImagenLogo}
        alt={`Logo de Parquizaciones Green Park, especialistas en diseño y mantenimiento de jardines`}
        class="size-16 mr-4"
      />
      <h1 class="title hidden md:flex">{title}</h1>
    </div>
  </a>

  <!-- Icono visible solo en pantallas pequeñas -->
  <div class="icon block sm:hidden">
    <div class="string"></div>
    <div class="string"></div>
    <div class="string"></div>
  </div>

  <!-- Menu visible solo en pantallas grandes -->
  <div class="menu-display hidden md:flex">
    <nav class="flex md:flex-row h-full gap-4 w-fit mr-11">
      <a href="#servicios" class="nav-section h-full flex items-center w-fit">Servicios</a>
      <a href="#galeria" class="nav-section h-full flex items-center">Galería</a>
      <a href="#contacto" class="nav-section h-full flex items-center">Contactanos</a>
    </nav>
  </div>
</header>

<style scoped>
  .title {
    @apply text-2xl font-bold text-darkestGreen;
  }

  .nav-section {
    @apply text-darkGreen relative;
    padding: 0;
    overflow: hidden;
  }

  .nav-section::before {
    content: "";
    position: absolute;
    width: 100%;
    height: 2px;
    background-color: #1b4f1e;
    bottom: 0;
    left: -100%;
    transition: left 0.4s ease-out;
  }

  .nav-section:hover::before {
    left: 0;
  }

  .icon {
    display: flex;
    flex-direction: column;
    gap: 4px;
    @apply sm:hidden
  }

  .string {
    width: 20px;
    border: 1px solid #1b4f1e;
    height: 2px;
    transition: transform 0.4s ease;
  }

  .icon .string.active:nth-child(1) {
    transform: rotate(45deg) translateY(6px);
  }

  .icon .string.active:nth-child(2) {
    transform: rotate(-45deg) translateY(-6px);
  }

  .icon .string.hidden {
    opacity: 0;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuIcon = document.querySelector('.icon');
    const menuLines = document.querySelectorAll('.string');
    const menuDisplay = document.querySelector('.menu-display');
    const screenWidth = window.innerWidth;
    let isMenuOpen = false;

    menuIcon.addEventListener('click', () => {
      isMenuOpen = !isMenuOpen;

    if(screenWidth<=640){
      if (isMenuOpen) {
        menuLines[0].style.transform = 'rotate(45deg) translateY(5px)';
        menuLines[1].style.transform = 'rotate(-45deg) translateY(-5px)';
        menuLines[2].style.opacity = '0'; // Oculta la tercera línea
        menuDisplay.style.display = 'block';
      } else {
        menuLines[0].style.transform = '';
        menuLines[1].style.transform = '';
        menuLines[2].style.opacity = '1'; // Vuelve a mostrar la tercera línea
        menuDisplay.style.display = 'none';
      }
    }
    });
  });
</script>
